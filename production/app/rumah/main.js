(function(){define("rumah/model",["backbone"],function(e){var t=e.Model.extend({defaults:{id:"",tipe:"",luastanah:"",luasbangunan:"",warna:"",pemilik:"",penghuni:"",alamat:"",telp:""},jual:function(e){this.set("pemilik",e)},sewa:function(e){this.set("penghuni",e)},gantiCat:function(e){this.set("warna",e)}}),n=e.Collection.extend({model:t,url:"../data/initRumah.json"});return{Model:t,Collection:n}}),define("text!rumah/template/ViewList.html",[],function(){return'<h2>Rumah</h2>\n<table class="table table-bordered">\n    <thead>\n        <th>ID</td>\n        <th>TIPE</td>\n        <th>L.TANAH</td>\n        <th>L.BANGUNAN</td>\n        <th>WARNA</td>\n        <th>PEMILIK</td>\n        <th>PENGHUNI</td>\n        <th>ALAMAT</td>\n        <th>TELP</th>\n        <th>Action</th>\n    </thead>\n    <tbody>\n    </tbody>\n</table>\n<button class="btn btn-default btn-block" add>\n    <span class="glyphicon glyphicon-plus"></span> Add New\n</button><br/>\n<div class="row">\n    <div id="detailDiv" class="col-sm-12"></div>\n</div>\n'}),define("text!rumah/template/View.html",[],function(){return'<td> <%= id %> </td>\n<td> <%= tipe %> </td>\n<td> <%= luastanah %> </td>\n<td> <%= luasbangunan %> </td>\n<td> <%= warna %> </td>\n<td> <%= pemilik %> </td>\n<td> <%= penghuni %> </td>\n<td> <%= alamat %> </td>\n<td> <%= telp %> </td>\n<td>\n    <span class="btn btn-primary btn-xs" btnJual >Jual</span>\n    <span class="btn btn-primary btn-xs" btnSewa >Sewa</span>\n    <span class="btn btn-primary btn-xs" btGantiCat >Ganti Cat</span>\n    <span class="btn btn-danger btn-xs" btnRemove >Remove</span>\n    <span class="btn btn-warning btn-xs " btnEdit >Edit</span>\n    <span class="btn btn-info btn-xs" btnDetail >Detail</span>\n</td>\n'}),define("text!rumah/template/ViewAction.html",[],function(){return'<div class="modal-dialog">\n    <div class="modal-content">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal">×</button>\n            <h4 class="modal-title">Action Form</h4>\n        </div>\n        <div class="modal-body">\n            <form  id="formEdit" class="form-horizontal row" action="#">\n                <fieldset>\n                    <div class="form-group">\n                        <label class="col-md-4 control-label">Value</label>\n                        <div class="col-md-4">\n                            <input id="textValue" type="text" class="form-control input-md">\n                        </div>\n                    </div>\n                </fieldset>\n            </form>\n        </div>\n        <div class="modal-footer">\n            <span id="modalError" class="pull-left"></span>\n            <button class="btn btn-default" data-dismiss="modal">Cancel</button>\n            <a class="btn btn-primary" btnSubmit>Submit</a>\n        </div>\n        </div>\n    </div>\n</div>\n'}),define("rumah/viewAction",["backbone","text!./template/ViewAction.html"],function(e,t){var n=e.View.extend({className:"modal fade",template:t,initialize:function(e){this.options=e,_.bindAll(this,"render")},render:function(){this.$el.html(this.template),this.$el.modal("show")},events:{"click [btnSubmit]":"saveChange","hidden.bs.modal":"remove"},saveChange:function(){var e=this.options.jobtype,t=$("#textValue").val().toUpperCase();switch(e){case"jual":this.model.jual(t);break;case"sewa":this.model.sewa(t);break;case"gantiCat":this.model.gantiCat(t)}this.$el.modal("hide")}});return n}),define("text!rumah/template/ViewEdit.html",[],function(){return'<div class="modal-dialog">\n    <div class="modal-content">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal">X</button>\n            <h4 class="modal-title">Form Edit Single Item</h4>\n        </div>\n        <div class="modal-body">\n            <form  id="formAddNew" class="form-horizontal row" action="#">\n                <fieldset>\n                <div class="form-group">\n                    <label class="col-md-4 control-label" >Tipe</label>\n                    <div class="col-md-5">\n                        <input id="textTipe" value="<%= tipe %>" type="text" class="form-control input-md">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="col-md-4 control-label">Luas Tanah</label>\n                    <div class="col-md-5">\n                        <input id="textLTanah" value="<%= luastanah %>" type="text"class="form-control input-md">\n                </div>\n                </div>\n                <div class="form-group">\n                    <label class="col-md-4 control-label">Luas Bangunan</label>\n                    <div class="col-md-6">\n                        <input id="textLBangunan" value="<%= luasbangunan %>"type="text" class="form-control input-md">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="col-md-4 control-label">Warna</label>\n                    <div class="col-md-4">\n                        <input id="textWarna" type="text" value="<%= warna %>" class="form-control input-md">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="col-md-4 control-label">Pemilik</label>\n                    <div class="col-md-4">\n                        <input id="textPemilik" type="text" value="<%= pemilik %>"class="form-control input-md">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="col-md-4 control-label">Penghuni</label>\n                    <div class="col-md-4">\n                        <input id="textPenghuni" type="text" value="<%= penghuni %>"class="form-control input-md">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="col-md-4 control-label">Alamat</label>\n                    <div class="col-md-4">\n                        <input id="textAlamat" type="text" value="<%= alamat %>" class="form-control input-md">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="col-md-4 control-label">Telp</label>\n                    <div class="col-md-4">\n                        <input id="textTelp" type="text" value="<%= telp %>" class="form-control input-md">\n                    </div>\n                </div>\n                </fieldset>\n            </form>\n        </div>\n        <div class="modal-footer">\n            <span id="modalError" class="pull-left"></span>\n            <button class="btn btn-default" data-dismiss="modal">Cancel</button>\n            <button class="btn btn-primary" save>Save</button>\n        </div>\n    </div>\n</div>\n'}),define("rumah/viewEdit",["backbone","text!./template/ViewEdit.html"],function(e,t){var n=e.View.extend({className:"modal fade",template:_.template(t),render:function(){this.$el.html(this.template(this.model.toJSON())),this.$el.modal("show")},events:{"click [save]":"save","hidden.bs.modal":"remove"},save:function(){var e=this.$("#textTipe").val().toUpperCase(),t=this.$("#textLTanah").val().toUpperCase(),n=this.$("#textLBangunan").val().toUpperCase(),r=this.$("#textWarna").val().toUpperCase(),i=this.$("#textPemilik").val().toUpperCase(),s=this.$("#textPenghuni").val().toUpperCase(),o=this.$("#textAlamat").val().toUpperCase(),u=this.$("#textTelp").val().toUpperCase();this.collection.add({tipe:e,luastanah:t,luasbangunan:n,warna:r,pemilik:i,penghuni:s,alamat:o,telp:u}),this.$el.modal("hide")}});return n}),define("text!rumah/template/ViewDetail.html",[],function(){return'<div class="panel panel-default">\n    <div class="panel-heading">\n        <h3 class="panel-title">Details</h3>\n    </div>\n    <div class="panel-body">\n        <form  id="formAddNew" class="form-horizontal row" action="#">\n            <fieldset>\n            <div class="form-group">\n                <label class="col-md-4 control-label" >Tipe</label>\n                <div class="col-md-5">\n                    <input id="textTipe" value="<%= tipe %>" type="text" class="form-control input-md">\n                </div>\n            </div>\n            <div class="form-group">\n                <label class="col-md-4 control-label">Luas Tanah</label>\n                <div class="col-md-5">\n                    <input id="textLTanah" value="<%= luastanah %>" type="text"class="form-control input-md">\n            </div>\n            </div>\n            <div class="form-group">\n                <label class="col-md-4 control-label">Luas Bangunan</label>\n                <div class="col-md-6">\n                    <input id="textLBangunan" value="<%= luasbangunan %>"type="text" class="form-control input-md">\n                </div>\n            </div>\n            <div class="form-group">\n                <label class="col-md-4 control-label">Warna</label>\n                <div class="col-md-4">\n                    <input id="textWarna" type="text" value="<%= warna %>" class="form-control input-md">\n                </div>\n            </div>\n            <div class="form-group">\n                <label class="col-md-4 control-label">Pemilik</label>\n                <div class="col-md-4">\n                    <input id="textPemilik" type="text" value="<%= pemilik %>"class="form-control input-md">\n                </div>\n            </div>\n            <div class="form-group">\n                <label class="col-md-4 control-label">Penghuni</label>\n                <div class="col-md-4">\n                    <input id="textPenghuni" type="text" value="<%= penghuni %>"class="form-control input-md">\n                </div>\n            </div>\n            <div class="form-group">\n                <label class="col-md-4 control-label">Alamat</label>\n                <div class="col-md-4">\n                    <input id="textAlamat type="text" value="<%= alamat %>" class="form-control input-md">\n                </div>\n            </div>\n            <div class="form-group">\n                <label class="col-md-4 control-label">Telp</label>\n                <div class="col-md-4">\n                    <input id="textTelp" type="text" value="<%= telp %>" class="form-control input-md">\n                </div>\n            </div>\n            </fieldset>\n        </form>\n    </div>\n</div>\n'}),define("rumah/viewDetail",["backbone","text!./template/ViewDetail.html"],function(e,t){var n=e.View.extend({template:_.template(t),initialize:function(){this.model.on("change",this.render,this),this.collection.on("remove",this.remove,this)},render:function(){this.$el.html(this.template(this.model.toJSON()))}});return n}),define("rumah/view",["require","backbone","text!./template/View.html"],function(e,t,n){return t.View.extend({tagName:"tr",template:_.template(n),initialize:function(e){this.options=e||{},this.model.on("change",function(){this.render(),this.showNotify("Action")},this)},render:function(){this.$el.html(this.template(this.model.toJSON()))},events:{"click [btnJual]":"jual","click [btnSewa]":"sewa","click [btGantiCat]":"gantiCat","click [btnRemove]":"remove","click [btnEdit]":"edit","click [btnDetail]":"showDetail"},jual:function(){var t=this;e(["./viewAction"],function(e){var n=new e({model:t.model,jobtype:"jual"});n.render()})},sewa:function(){var t=this;e(["./viewAction"],function(e){var n=new e({model:t.model,jobtype:"sewa"});n.render()})},gantiCat:function(){var t=this;e(["./viewAction"],function(e){var n=new e({model:t.model,jobtype:"gantiCat"});n.render()})},edit:function(){var t=this;e(["./viewEdit"],function(e){var n=new e({model:t.model,collection:t.collection});n.render(),t.showNotify("Edit")})},remove:function(){this.collection.remove(this.model),t.View.prototype.remove.call(this),this.showNotify("Remove")},showDetail:function(){var t=this;e(["./viewDetail"],function(e){var n=new e({model:t.model,collection:t.collection});n.render(),t.options.parent.$("#detailDiv").html(n.$el)})},showNotify:function(e){$("#errorLog").text(e+" success !"),$("#errorLog").addClass("label label-success")}})}),define("text!rumah/template/ViewAdd.html",[],function(){return'<div class="modal-dialog">\n    <div class="modal-content">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal">×</button>\n        <h4 class="modal-title">Form Add New Item</h4>\n    </div>\n    <div class="modal-body">\n        <form  id="formAddNew" class="form-horizontal row" action="#">\n            <fieldset>\n            <div class="form-group">\n                <label class="col-md-4 control-label" >Tipe</label>\n                <div class="col-md-5">\n                    <input id="textTipe" type="text" class="form-control input-md">\n                </div>\n            </div>\n            <div class="form-group">\n                <label class="col-md-4 control-label">Luas Tanah</label>\n                <div class="col-md-5">\n                    <input id="textLTanah" type="text"class="form-control input-md">\n            </div>\n            </div>\n            <div class="form-group">\n                <label class="col-md-4 control-label">Luas Bangunan</label>\n                <div class="col-md-6">\n                    <input id="textLBangunan" type="text" class="form-control input-md">\n                </div>\n            </div>\n            <div class="form-group">\n                <label class="col-md-4 control-label">Warna</label>\n                <div class="col-md-4">\n                    <input id="textWarna" type="text" class="form-control input-md">\n                </div>\n            </div>\n            <div class="form-group">\n                <label class="col-md-4 control-label">Pemilik</label>\n                <div class="col-md-4">\n                    <input id="textPemilik" type="text" class="form-control input-md">\n                </div>\n            </div>\n            <div class="form-group">\n                <label class="col-md-4 control-label">Penghuni</label>\n                <div class="col-md-4">\n                    <input id="textPenghuni" type="text" class="form-control input-md">\n                </div>\n            </div>\n            <div class="form-group">\n                <label class="col-md-4 control-label">Alamat</label>\n                <div class="col-md-4">\n                    <input id="textAlamat" type="text" class="form-control input-md">\n                </div>\n            </div>\n            <div class="form-group">\n                <label class="col-md-4 control-label">Telp</label>\n                <div class="col-md-4">\n                    <input id="textTelp" type="text" class="form-control input-md">\n                </div>\n            </div>\n            </fieldset>\n        </form>\n    </div>\n    <div class="modal-footer">\n        <span id="modalError" class="pull-left"></span>\n        <button class="btn btn-default" data-dismiss="modal">Cancel</button>\n        <a class="btn btn-primary" submit>Submit</a>\n    </div>\n    </div>\n</div>\n'}),define("rumah/viewAdd",["backbone","text!./template/ViewAdd.html"],function(e,t){var n=e.View.extend({className:"modal fade",template:t,render:function(){this.$el.html(this.template),this.$el.modal("show")},events:{"click [submit]":"add","hidden.bs.modal":"remove"},add:function(){var e=this.$("#textTipe").val().toUpperCase(),t=this.$("#textLTanah").val().toUpperCase(),n=this.$("#textLBangunan").val().toUpperCase(),r=this.$("#textWarna").val().toUpperCase(),i=this.$("#textPemilik").val().toUpperCase(),s=this.$("#textPenghuni").val().toUpperCase(),o=this.$("#textAlamat").val().toUpperCase(),u=this.$("#textTelp").val().toUpperCase();this.collection.add({tipe:e,luastanah:t,luasbangunan:n,warna:r,pemilik:i,penghuni:s,alamat:o,telp:u}),this.$el.modal("hide")}});return n}),define("rumah/main",["require","backbone","./model","text!./template/ViewList.html"],function(e,t,n,r){return t.View.extend({template:_.template(r),initialize:function(){var e=this;this.collection=new n.Collection,this.listenTo(this.collection,"add",function(t){e.addOne(t),this.showNotify()})},render:function(){this.$el.html(this.template)},events:{"click [add]":"add"},addOne:function(t){var n=this;e(["./view"],function(e){var r=new e({model:t,collection:n.collection,parent:n});r.render(),n.$("tbody").append(r.el)})},add:function(){var t=this;e(["./viewAdd"],function(e){var n=new e({collection:t.collection});n.render()})},showNotify:function(){$("#errorLog").text("Add new data success !"),$("#errorLog").addClass("label label-success")}})})})();